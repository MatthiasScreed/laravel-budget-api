<?php

namespace Database\Seeders;

use Carbon\Carbon;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class CategorySeeder extends Seeder
{
    /**
     * Seed the application's database with default categories.
     *
     * Ces cat√©gories sont des cat√©gories syst√®me (is_system = true)
     * partag√©es par tous les utilisateurs pour l'IA de cat√©gorisation.
     */
    public function run(): void
    {
        $now = Carbon::now();

        $categories = [
            // ==========================================
            // CAT√âGORIE PAR D√âFAUT (FALLBACK)
            // ==========================================
            [
                'name' => 'Non cat√©goris√©',
                'description' => 'Transactions en attente de cat√©gorisation',
                'type' => 'expense',
                'color' => '#9CA3AF',
                'icon' => '‚ùì',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 0,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // CAT√âGORIES DE REVENUS
            // ==========================================
            [
                'name' => 'Salaire',
                'description' => 'Revenu principal du travail',
                'type' => 'income',
                'color' => '#10B981',
                'icon' => 'üíº',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 1,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Freelance',
                'description' => 'Revenus de missions freelance',
                'type' => 'income',
                'color' => '#059669',
                'icon' => 'üíª',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 2,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Prime',
                'description' => 'Primes et bonus',
                'type' => 'income',
                'color' => '#34D399',
                'icon' => 'üéÅ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 3,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Investissements',
                'description' => 'Revenus d\'investissements',
                'type' => 'income',
                'color' => '#6EE7B7',
                'icon' => 'üìà',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 4,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Remboursements',
                'description' => 'Remboursements divers',
                'type' => 'income',
                'color' => '#A7F3D0',
                'icon' => 'üí∞',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 5,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Vente',
                'description' => 'Vente de biens ou services',
                'type' => 'income',
                'color' => '#D1FAE5',
                'icon' => 'üõçÔ∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 6,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Location',
                'description' => 'Revenus locatifs',
                'type' => 'income',
                'color' => '#6EE7B7',
                'icon' => 'üè†',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 7,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Cadeaux re√ßus',
                'description' => 'Cadeaux et dons re√ßus',
                'type' => 'income',
                'color' => '#A7F3D0',
                'icon' => 'üéâ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 8,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // CAT√âGORIES DE D√âPENSES - ESSENTIEL
            // ==========================================
            [
                'name' => 'Alimentation',
                'description' => 'Courses et alimentation',
                'type' => 'expense',
                'color' => '#EF4444',
                'icon' => 'üõí',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 10,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Restaurants',
                'description' => 'Restaurants et livraisons',
                'type' => 'expense',
                'color' => '#DC2626',
                'icon' => 'üçΩÔ∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 11,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Logement',
                'description' => 'Loyer ou cr√©dit immobilier',
                'type' => 'expense',
                'color' => '#B91C1C',
                'icon' => 'üè†',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 12,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Charges',
                'description' => 'Charges de copropri√©t√©',
                'type' => 'expense',
                'color' => '#991B1B',
                'icon' => 'üîë',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 13,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => '√âlectricit√©',
                'description' => 'Facture d\'√©lectricit√©',
                'type' => 'expense',
                'color' => '#F59E0B',
                'icon' => '‚ö°',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 14,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Eau',
                'description' => 'Facture d\'eau',
                'type' => 'expense',
                'color' => '#3B82F6',
                'icon' => 'üíß',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 15,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Internet',
                'description' => 'Abonnement internet/box',
                'type' => 'expense',
                'color' => '#8B5CF6',
                'icon' => 'üåê',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 16,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'T√©l√©phone',
                'description' => 'Forfait mobile',
                'type' => 'expense',
                'color' => '#6366F1',
                'icon' => 'üì±',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 17,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // TRANSPORT
            // ==========================================
            [
                'name' => 'Carburant',
                'description' => 'Essence/diesel',
                'type' => 'expense',
                'color' => '#EF4444',
                'icon' => '‚õΩ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 20,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Transports publics',
                'description' => 'Bus, m√©tro, train',
                'type' => 'expense',
                'color' => '#06B6D4',
                'icon' => 'üöá',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 21,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Parking',
                'description' => 'Stationnement et parking',
                'type' => 'expense',
                'color' => '#0891B2',
                'icon' => 'üÖøÔ∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 22,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Taxi/VTC',
                'description' => 'Uber, Bolt, taxi',
                'type' => 'expense',
                'color' => '#0E7490',
                'icon' => 'üöñ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 23,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Entretien v√©hicule',
                'description' => 'R√©parations, r√©visions',
                'type' => 'expense',
                'color' => '#DC2626',
                'icon' => 'üîß',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 24,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Assurance v√©hicule',
                'description' => 'Assurance auto/moto',
                'type' => 'expense',
                'color' => '#991B1B',
                'icon' => 'üöó',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 25,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // SANT√â
            // ==========================================
            [
                'name' => 'M√©decin',
                'description' => 'Consultations m√©dicales',
                'type' => 'expense',
                'color' => '#EC4899',
                'icon' => 'ü©∫',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 30,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Pharmacie',
                'description' => 'M√©dicaments et produits',
                'type' => 'expense',
                'color' => '#DB2777',
                'icon' => 'üíä',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 31,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Mutuelle',
                'description' => 'Assurance sant√©',
                'type' => 'expense',
                'color' => '#BE185D',
                'icon' => 'üõ°Ô∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 32,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Dentiste',
                'description' => 'Soins dentaires',
                'type' => 'expense',
                'color' => '#EC4899',
                'icon' => 'ü¶∑',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 33,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Opticien',
                'description' => 'Lunettes et lentilles',
                'type' => 'expense',
                'color' => '#DB2777',
                'icon' => 'üëì',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 34,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // LOISIRS & DIVERTISSEMENT
            // ==========================================
            [
                'name' => 'Sport',
                'description' => 'Abonnement salle, activit√©s',
                'type' => 'expense',
                'color' => '#10B981',
                'icon' => '‚öΩ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 40,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Streaming',
                'description' => 'Netflix, Spotify, etc.',
                'type' => 'expense',
                'color' => '#8B5CF6',
                'icon' => 'üì∫',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 41,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Cin√©ma',
                'description' => 'S√©ances de cin√©ma',
                'type' => 'expense',
                'color' => '#A855F7',
                'icon' => 'üé¨',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 42,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Sorties',
                'description' => 'Bars, concerts, √©v√©nements',
                'type' => 'expense',
                'color' => '#EC4899',
                'icon' => 'üéâ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 43,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Voyages',
                'description' => 'Vacances et voyages',
                'type' => 'expense',
                'color' => '#06B6D4',
                'icon' => '‚úàÔ∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 44,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Hobbies',
                'description' => 'Loisirs cr√©atifs, mat√©riel',
                'type' => 'expense',
                'color' => '#F59E0B',
                'icon' => 'üé®',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 45,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // SHOPPING
            // ==========================================
            [
                'name' => 'V√™tements',
                'description' => 'Habits et chaussures',
                'type' => 'expense',
                'color' => '#EC4899',
                'icon' => 'üëï',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 50,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Beaut√©',
                'description' => 'Coiffeur, cosm√©tiques',
                'type' => 'expense',
                'color' => '#F472B6',
                'icon' => 'üíÑ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 51,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => '√âlectronique',
                'description' => 'High-tech et gadgets',
                'type' => 'expense',
                'color' => '#6366F1',
                'icon' => 'üíª',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 52,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Livres',
                'description' => 'Livres et magazines',
                'type' => 'expense',
                'color' => '#8B5CF6',
                'icon' => 'üìö',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 53,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Maison',
                'description' => 'D√©co, meubles, √©quipement',
                'type' => 'expense',
                'color' => '#F59E0B',
                'icon' => 'üõãÔ∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 54,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Cadeaux',
                'description' => 'Cadeaux offerts',
                'type' => 'expense',
                'color' => '#EF4444',
                'icon' => 'üéÅ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 55,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // √âDUCATION & ENFANTS
            // ==========================================
            [
                'name' => 'Cr√®che/Garderie',
                'description' => 'Garde d\'enfants',
                'type' => 'expense',
                'color' => '#F97316',
                'icon' => 'üë∂',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 60,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Scolarit√©',
                'description' => 'Frais de scolarit√©',
                'type' => 'expense',
                'color' => '#EA580C',
                'icon' => 'üéì',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 61,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Formation',
                'description' => 'Cours et formations',
                'type' => 'expense',
                'color' => '#C2410C',
                'icon' => 'üìñ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 62,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Fournitures scolaires',
                'description' => 'Mat√©riel scolaire',
                'type' => 'expense',
                'color' => '#F97316',
                'icon' => '‚úèÔ∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 63,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // FINANCES
            // ==========================================
            [
                'name' => 'Banque',
                'description' => 'Frais bancaires',
                'type' => 'expense',
                'color' => '#64748B',
                'icon' => 'üè¶',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 70,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Assurances',
                'description' => 'Autres assurances',
                'type' => 'expense',
                'color' => '#475569',
                'icon' => 'üõ°Ô∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 71,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Imp√¥ts',
                'description' => 'Imp√¥ts et taxes',
                'type' => 'expense',
                'color' => '#334155',
                'icon' => 'üí∏',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 72,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => '√âpargne',
                'description' => 'Virements vers √©pargne',
                'type' => 'expense',
                'color' => '#10B981',
                'icon' => 'üê∑',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 73,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Cr√©dits',
                'description' => 'Remboursements de cr√©dits',
                'type' => 'expense',
                'color' => '#DC2626',
                'icon' => 'üí≥',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 74,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // ANIMAUX
            // ==========================================
            [
                'name' => 'Animaux',
                'description' => 'V√©t√©rinaire, nourriture',
                'type' => 'expense',
                'color' => '#F59E0B',
                'icon' => 'üêæ',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 80,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],

            // ==========================================
            // DIVERS
            // ==========================================
            [
                'name' => 'Dons',
                'description' => 'Dons et charit√©',
                'type' => 'expense',
                'color' => '#10B981',
                'icon' => '‚ù§Ô∏è',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 90,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Services',
                'description' => 'Services divers',
                'type' => 'expense',
                'color' => '#6B7280',
                'icon' => 'üî®',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 91,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            [
                'name' => 'Autres d√©penses',
                'description' => 'D√©penses non cat√©goris√©es',
                'type' => 'expense',
                'color' => '#9CA3AF',
                'icon' => 'üì¶',
                'is_system' => true,
                'is_active' => true,
                'sort_order' => 99,
                'user_id' => null,
                'created_at' => $now,
                'updated_at' => $now,
            ],
        ];

        DB::table('categories')->insert($categories);

        $this->command->info('‚úÖ '.count($categories).' cat√©gories syst√®me cr√©√©es avec succ√®s !');
    }
}
